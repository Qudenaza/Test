(this.webpackJsonpemploycity=this.webpackJsonpemploycity||[]).push([[0],{10:function(e,t,n){},11:function(e,t,n){},15:function(e){e.exports=JSON.parse('{"Error":"","Id":0,"Success":true,"Value":{"Goods":[{"B":false,"C":158,"CV":null,"G":1,"P":1,"Pl":null,"T":1},{"B":false,"C":197,"CV":null,"G":1,"P":99,"Pl":null,"T":2},{"B":false,"C":18,"CV":null,"G":1,"P":31,"Pl":null,"T":3},{"B":false,"C":2.14,"CV":null,"G":2,"P":15,"Pl":null,"T":8},{"B":false,"C":1.52,"CV":null,"G":2,"P":76,"Pl":null,"T":86},{"B":false,"C":5.5,"CV":null,"G":2,"P":100,"Pl":null,"T":126},{"B":false,"C":2.71,"CV":null,"G":5,"P":51,"Pl":null,"T":184},{"B":false,"C":3.95,"CV":null,"G":5,"P":2,"Pl":null,"T":185},{"B":false,"C":1.22,"CV":null,"G":10,"P":51,"Pl":null,"T":194},{"B":false,"C":1.18,"CV":null,"G":15,"P":55,"Pl":null,"T":12},{"B":false,"C":1.55,"CV":null,"G":15,"P":64,"Pl":null,"T":63},{"B":false,"C":1.55,"CV":null,"G":15,"P":77,"Pl":null,"T":64}]}}')},16:function(e){e.exports=JSON.parse('{"1":{"G":"\u041a\u043d\u0438\u0433\u0438","B":{"1":{"N":"\u0410\u043b\u0433\u043e\u0440\u0438\u0442\u043c\u044b. \u041f\u043e\u0441\u0442\u0440\u043e\u0435\u043d\u0438\u0435 \u0438 \u0430\u043d\u0430\u043b\u0438\u0437. \u0422. \u041a\u043e\u0440\u043c\u0435\u043d, \u0427. \u041b\u0435\u0439\u0437\u0435\u0440\u0441\u043e\u043d, \u0420. \u0420\u0438\u0432\u0435\u0441\u0442, \u041a. \u0428\u0442\u0430\u0439\u043d.","T":1},"2":{"N":"\u0421\u043e\u0432\u0435\u0440\u0448\u0435\u043d\u043d\u044b\u0439 \u043a\u043e\u0434. \u0421\u0442\u0438\u0432 \u041c\u0430\u043a\u043a\u043e\u043d\u043d\u0435\u043b\u043b.","T":1},"3":{"N":"JavaScript. \u041f\u043e\u0434\u0440\u043e\u0431\u043d\u043e\u0435 \u0440\u0443\u043a\u043e\u0432\u043e\u0434\u0441\u0442\u0432\u043e. \u0414\u044d\u0432\u0438\u0434 \u0424\u043b\u044d\u043d\u0430\u0433\u0430\u043d.","T":1}}},"2":{"G":"\u0415\u0434\u0430","C":2,"B":{"7":{"N":"\u041e\u0432\u0441\u044f\u043d\u044b\u0435 \u043f\u0438\u0440\u043e\u0436\u043d\u044b\u0435 \u0441 \u0448\u043e\u043a\u043e\u043b\u0430\u0434\u043d\u043e\u0439 \u043f\u0440\u043e\u0441\u043b\u043e\u0439\u043a\u043e\u0439","T":3},"8":{"N":"\u0421\u0443\u043f \u0441 \u043f\u0435\u043a\u0438\u043d\u0441\u043a\u043e\u0439 \u043a\u0430\u043f\u0443\u0441\u0442\u043e\u0439","T":3},"85":{"N":"\u0412\u0438\u0448\u043d\u044f \u0432 \u043a\u043e\u043d\u044c\u044f\u043a\u0435","T":3},"86":{"N":"\u041f\u043e\u0441\u0442\u043d\u044b\u0439 \u0444\u0430\u0440\u0448\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0439 \u043f\u0435\u0440\u0435\u0446","T":3},"109":{"N":"\u0421\u0430\u043b\u0430\u0442 \u041f\u043e\u0434\u0441\u043e\u043b\u043d\u0443\u0445","T":""},"110":{"N":"\u0424\u043e\u0440\u0435\u043b\u044c \xab\u042d\u0440\u043b\u0430\u043d\u0433\u0435\u043d\xbb","T":""},"111":{"N":"\u0421\u0430\u043b\u0430\u0442 \u0441 \u043c\u043e\u0440\u0435\u043f\u0440\u043e\u0434\u0443\u043a\u0442\u0430\u043c\u0438","T":3},"112":{"N":"\u0422\u0451\u0440\u0442\u044b\u0439 \u043f\u0438\u0440\u043e\u0433","T":3},"115":{"N":"\u0421\u0432\u0438\u043d\u0438\u043d\u0430, \u043c\u0430\u0440\u0438\u043d\u043e\u0432\u0430\u043d\u043d\u0430\u044f \u0432 \u043a\u0440\u0430\u0441\u043d\u043e\u043c \u0432\u0438\u043d\u0435, \u0441 \u043a\u043e\u0440\u0438\u0430\u043d\u0434\u0440\u043e\u043c","T":""},"116":{"N":"\u0421\u0430\u043b\u0430\u0442 \u0441 \u0447\u0435\u0440\u043d\u043e\u0441\u043b\u0438\u0432\u043e\u043c \u0438 \u0432\u0435\u0442\u0447\u0438\u043d\u043e\u0439","T":""},"125":{"N":"\u0411\u043e\u043b\u0433\u0430\u0440\u0441\u043a\u0438\u0439 \u043f\u0435\u0440\u0435\u0446 \u0438 \u0446\u0443\u043a\u043a\u0438\u043d\u0438 \u043d\u0430 \u0433\u0440\u0438\u043b\u0435","T":3},"126":{"N":"\u0421\u0430\u043b\u0430\u0442 \xab\u0411\u0443\u043a\u0435\u0442 \u043d\u0430\u0440\u0446\u0438\u0441\u0441\u043e\u0432\xbb","T":3},"127":{"N":"\u0421\u0430\u043b\u0430\u0442 \u0438\u0437 \u043c\u043e\u0440\u0435\u043f\u0440\u043e\u0434\u0443\u043a\u0442\u043e\u0432, \u0441 \u043e\u0433\u0443\u0440\u0446\u0430\u043c\u0438, \u0440\u0443\u043a\u043a\u043e\u043b\u043e\u0439 \u0438 \u043e\u043b\u0438\u0432\u043a\u0430\u043c\u0438","T":3}}},"5":{"G":"\u0421\u043f\u043e\u0440\u0442","C":2,"B":{"184":{"N":"\u0411\u0435\u0433\u043e\u0432\u0430\u044f \u0434\u043e\u0440\u043e\u0436\u043a\u0430","T":1},"185":{"N":"\u0413\u0430\u043d\u0442\u0435\u043b\u0438 \u0441\u044a\u0435\u043c\u043d\u044b\u0435","T":1},"186":{"N":"\u0420\u0443\u0436\u044c\u0451 \u043e\u0445\u043e\u0442\u043d\u0438\u0447\u044c\u0435","T":1},"187":{"N":"\u0412\u0435\u043b\u043e\u0442\u0440\u0435\u043d\u0430\u0436\u0435\u0440","T":1}}},"8":{"G":"\u0421\u0430\u043d\u0442\u0435\u0445\u043d\u0438\u043a\u0430","C":3,"B":{"4":{"N":"\u0410\u043a\u0440\u0438\u043b\u043e\u0432\u0430\u044f \u0432\u0430\u043d\u043d\u0430 Alpen Mars ","T":1},"5":{"N":"\u0421\u043c\u0435\u0441\u0438\u0442\u0435\u043b\u044c Sturm Classica","T":1},"6":{"N":"\u0422\u0443\u043c\u0431\u0430 \u0441 \u0440\u0430\u043a\u043e\u0432\u0438\u043d\u043e\u0439 Tiffany World ","T":1}}},"10":{"G":"\u0417\u0430\u043f\u0447\u0430\u0441\u0442\u0438 \u0434\u043b\u044f \u043c\u0430\u0448\u0438\u043d","C":3,"B":{"191":{"N":"\u0410\u043c\u043e\u0440\u0442\u0438\u0437\u0430\u0442\u043e\u0440 \u0437\u0430\u0434\u043d\u0438\u0439 CX-5 ","T":3},"192":{"N":"\u041f\u0440\u0443\u0436\u0438\u043d\u0430 \u0430\u043c\u043e\u0440\u0442\u0438\u0437\u0430\u0442\u043e\u0440\u0430 ","T":3},"193":{"N":"\u041a\u043e\u0440\u043f\u0443\u0441 \u0432\u043e\u0437\u0434\u0443\u0448\u043d\u043e\u0433\u043e \u0444\u0438\u043b\u044c\u0442\u0440\u0430 ","T":3},"194":{"N":"\u0420\u0435\u043c\u0435\u043d\u044c \u043f\u0440\u0438\u0432\u043e\u0434\u043d\u043e\u0439","T":3},"195":{"N":"\u0414\u0438\u0444\u0444\u0443\u0437\u043e\u0440 \u0440\u0430\u0434\u0438\u0430\u0442\u043e\u0440\u0430","T":1},"196":{"N":"\u0424\u0438\u043b\u044c\u0442\u0440 \u0410\u041a\u041f\u041f","T":3}}},"15":{"G":"\u0421\u0443\u0432\u0435\u043d\u0438\u0440\u044b","C":2,"B":{"11":{"N":"\u041d\u0430\u0431\u043e\u0440 \u0434\u043b\u044f \u0440\u0438\u0441\u043e\u0432\u0430\u043d\u0438\u044f \u041f\u0430\u0441\u0442\u0435\u043b\u044c","T":3},"12":{"N":"\u0411\u0440\u0435\u043b\u043e\u043a-\u0440\u0443\u043b\u0435\u0442\u043a\u0430","T":3},"63":{"N":"\u0411\u0440\u0435\u043b\u043e\u043a-\u043e\u0442\u043a\u0440\u044b\u0432\u0430\u043b\u043a\u0430","T":3},"64":{"N":"\u0420\u0443\u0447\u043a\u0430-\u0441\u0442\u0438\u043b\u0443\u0441 \u0448\u0430\u0440\u0438\u043a\u043e\u0432\u0430\u044f","T":3},"146":{"N":"\u0411\u0440\u0430\u0441\u043b\u0435\u0442","T":3},"147":{"N":"\u0427\u0435\u0445\u043e\u043b \u0434\u043b\u044f \u043e\u0447\u043a\u043e\u0432","T":3},"148":{"N":"\u0421\u0443\u043c\u043a\u0430 \u0434\u043b\u044f \u0432\u044b\u0441\u0442\u0430\u0432\u043e\u043a","T":3}}}}')},30:function(e,t,n){},31:function(e,t,n){"use strict";n.r(t);var c,o,a,r=n(0),s=n.n(r),l=n(7),u=n.n(l),d=n(2),i=n(6),j=n.n(i),b=n(13),f=n(4);!function(e){e.GREEN="#6bedc3",e.RED="#ff2169",e.GREY="#ddd8d8"}(c||(c={})),function(e){e.Group="G",e.GoodsList="B",e.GoodID="T",e.GoodPrice="C",e.GoodName="N",e.GoodCount="P",e.GoodInCart="S"}(o||(o={})),function(e){e.USD="USD/RUB"}(a||(a={}));var O,p,G=function(e){var t={};return e.forEach((function(e){return t[e[o.Group]]?t[e[o.Group]].push(e):t[e[o.Group]]=[e]})),t},m=n(15),x=n(16),N=Object(f.b)("goods/fetchData",Object(b.a)(j.a.mark((function e(){var t,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.Value;case 2:return t=e.sent,n=t.Goods,e.abrupt("return",G(n));case 5:case"end":return e.stop()}}),e)})))),h=Object(f.b)("goods/fetchNames",Object(b.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x;case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})))),C=Object(f.c)({name:"data",initialState:{goods:{},names:{}},reducers:{updateCount:function(e,t){e.goods[t.payload.groupId].find((function(e){return e[o.GoodID]===t.payload.id}))[o.GoodCount]=t.payload.count}},extraReducers:function(e){e.addCase(N.fulfilled,(function(e,t){e.goods=t.payload})).addCase(h.fulfilled,(function(e,t){e.names=t.payload}))}}),T=C.actions.updateCount,g=C.reducer,_=n(8),v=n(3),P=Object(f.c)({name:"meta",initialState:{"USD/RUB":76.88},reducers:{updateRate:function(e,t){e[a.USD]=t.payload}}}),y=P.actions.updateRate,B=P.reducer,S=Object(f.c)({name:"cart",initialState:{selectedGoods:[],totalPrice:0},reducers:{addGood:function(e,t){-1===e.selectedGoods.findIndex((function(e){return e.id===t.payload.id}))&&e.selectedGoods.push(t.payload)},removeGood:function(e,t){var n=e.selectedGoods.findIndex((function(e){return e.id===t.payload.id}));e.selectedGoods.splice(n,1)},updateTotalPrice:function(e){e.totalPrice=e.selectedGoods.reduce((function(e,t){return e+t.price*t.count}),0)},updateCount:function(e,t){e.selectedGoods.find((function(e){return e.id===t.payload.id})).count=t.payload.count}}}),I=S.actions,R=I.addGood,D=I.removeGood,E=I.updateCount,V=I.updateTotalPrice,k=S.reducer;!function(e){e.Goods="GOODS",e.Meta="META",e.Cart="CART"}(p||(p={}));var M=Object(v.b)((O={},Object(_.a)(O,p.Goods,g),Object(_.a)(O,p.Meta,B),Object(_.a)(O,p.Cart,k),O)),w=function(e){return e[p.Goods].goods},U=function(e){return e[p.Goods].names},L=n(5),J=(n(10),n(1));function F(e){var t=e.goodsGroup,n=e.goodParams,a=e.exchangeRate,s=Object(r.useState)(a),l=Object(L.a)(s,2),u=l[0],i=l[1],j=Object(r.useState)(c.GREY),b=Object(L.a)(j,2),f=b[0],O=b[1],p=function(){var e=Object(r.useRef)(!1);return Object(r.useEffect)((function(){e.current=!0}),[]),e.current}(),G=t[o.GoodsList][n[o.GoodID]][o.GoodName],m=Object(d.b)();if(Object(r.useEffect)((function(){p&&(O(u>a?c.GREEN:c.RED),i(a),setTimeout((function(){O(c.GREY)}),200))}),[a]),!n[o.GoodCount])return null;return Object(J.jsxs)("div",{className:"goods__item",onClick:function(){var e={id:n[o.GoodID],groupId:n[o.Group],name:G,price:+n[o.GoodPrice],maxCount:n[o.GoodCount],count:1};m(R(e))},children:[Object(J.jsxs)("div",{className:"goods__name",children:[G,Object(J.jsxs)("span",{className:"goods__count",children:["(",n[o.GoodCount],")"]})]}),Object(J.jsx)("div",{className:"goods__price",style:{backgroundColor:f},children:(n[o.GoodPrice]*a).toFixed(2)})]})}var A=s.a.memo(F),Y=function(e){return e[p.Meta][a.USD]},K=n(17),W=n.n(K);function X(e){var t,n=e.groupId,c=void 0===n?1/0:n,a=e.goodsList,s=Object(d.c)((t=c,function(e){return e[p.Goods].names[t]})),l=Object(d.c)(Y),u=Object(r.useState)(!0),i=Object(L.a)(u,2),j=i[0],b=i[1];return s?Object(J.jsxs)("div",{className:W()("goods__list",{"goods__list--expanded":j}),children:[Object(J.jsx)("h2",{className:"goods__title",onClick:function(){return b(!j)},children:s[o.Group]}),Object(J.jsx)("div",{className:"goods__wrapper",children:a.map((function(e){return Object(J.jsx)(A,{goodParams:e,goodsGroup:s,exchangeRate:l},e[o.GoodID])}))})]}):Object(J.jsx)("h1",{children:"Loading..."})}var q=s.a.memo(X);function z(){var e=Object(d.c)(w),t=Object(d.c)(U),n=Object(d.b)();return Object(r.useEffect)((function(){n(N()),n(h()),setInterval((function(){var e,t;n(y((e=20,t=80,Math.floor(e+Math.random()*(t+1-e)))))}),15e3)}),[]),e&&t?Object(J.jsx)("section",{className:"goods container",children:Object.keys(e).map((function(t){return e[t].length?Object(J.jsx)(q,{groupId:+t,goodsList:e[t]},t):null}))}):Object(J.jsx)("h1",{children:"Loading..."})}var H=s.a.memo(z);n(11);var Q=function(e){var t=e.goodData,n=e.exchangeRate,c=Object(r.useState)(t.count),o=Object(L.a)(c,2),a=o[0],s=o[1],l=Object(r.useState)(t.price),u=Object(L.a)(l,2),i=u[0],j=u[1],b=Object(d.b)();return Object(r.useEffect)((function(){b(E({count:a,id:t.id})),b(T({groupId:t.groupId,id:t.id,count:t.maxCount-a})),b(V())}),[a]),Object(J.jsxs)("tr",{className:"cart__item",children:[Object(J.jsx)("td",{className:"cart__table-cell",children:t.name}),Object(J.jsx)("td",{className:"cart__table-cell",children:Object(J.jsx)("input",{type:"number",className:"cart__input",value:a,onChange:function(e){var n=+e.target.value;j(n*t.price),s(n)},min:"0",max:t.maxCount,onKeyPress:function(e){return e.preventDefault()}})}),Object(J.jsxs)("td",{className:"cart__table-cell cart__table-cell--price",children:[(i*n).toFixed(2)," \u0440\u0443\u0431 ",Object(J.jsx)("span",{children:"/ \u0448\u0442."})]}),Object(J.jsx)("td",{children:Object(J.jsx)("button",{className:"cart__delete",onClick:function(){b(D(t.id)),b(V()),b(T({groupId:t.groupId,id:t.id,count:t.maxCount}))},children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"})})]})},Z=function(e){return e[p.Cart].selectedGoods},$=function(e){return e[p.Cart].totalPrice};var ee=function(e){var t=e.goods,n=Object(d.c)(Y),c=Object(d.c)($);return Object(J.jsxs)("table",{className:"cart__table",children:[Object(J.jsx)("thead",{children:Object(J.jsxs)("tr",{className:"cart__table-heading",children:[Object(J.jsx)("th",{className:"cart__table-cell",children:"\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435 \u0442\u043e\u0432\u0430\u0440\u0430 \u0438 \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u0435"}),Object(J.jsx)("th",{className:"cart__table-cell",children:"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e"}),Object(J.jsx)("th",{className:"cart__table-cell",children:"\u0426\u0435\u043d\u0430"}),Object(J.jsx)("th",{})]})}),Object(J.jsx)("tbody",{children:t.map((function(e){return Object(J.jsx)(Q,{goodData:e,exchangeRate:n},e.id)}))}),Object(J.jsx)("tfoot",{children:Object(J.jsxs)("tr",{children:[Object(J.jsx)("td",{}),Object(J.jsx)("td",{}),Object(J.jsxs)("td",{className:"cart__total-amount",children:["\u041e\u0431\u0449\u0430\u044f \u0441\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c: ",Object(J.jsxs)("span",{children:[(c*n).toFixed(2)," \u0440\u0443\u0431."]})]})]})})]})};var te=function(){var e=Object(d.c)(Z);return e.length?Object(J.jsx)("section",{className:"cart container",children:Object(J.jsx)(ee,{goods:e})}):null};var ne=function(){return Object(J.jsxs)(J.Fragment,{children:[Object(J.jsx)(H,{}),Object(J.jsx)(te,{})]})},ce=Object(f.a)({reducer:M});n(30);u.a.render(Object(J.jsx)(s.a.StrictMode,{children:Object(J.jsx)(d.a,{store:ce,children:Object(J.jsx)(ne,{})})}),document.getElementById("root"))}},[[31,1,2]]]);
//# sourceMappingURL=main.0cd15425.chunk.js.map